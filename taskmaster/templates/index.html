{% extends "base.html" %}

{% block js %}
    {{ super() }}
    <script src="static/js/main.js"></script>
    <script type="text/javascript">var TAGS = "{{tags}}";</script>
{% endblock %}

{% block body %}
 <div class="container"> 
  
  {% if tasks %}
    <div class="row">
        <div class="col-md-2">
           <h5><u>Queues</u></h5>
           <ul class="list-unstyled">
           {% for queue in queues %}
             <li>{{queue}}</li>
           {% endfor %}
           </ul>
           <a href="/queue_form" class="btn btn-info btn-sm">Create Queue</a>
        </div>
        <div class="col-md-10 border-left">
          <table class="table table-striped">
            <tr>
                <th>Status</th>
                <th>Task Name</th>
                <th>Assignee</th>
                <th>Date Created</th>
                <th>Priority</th>
                <th>Severity</th>
            </tr>
            </tr>
            {% for task in tasks %}
            <tr>
                <!-- TODO: Set the selected value dynamically and possibly build the dropdown dynamically from db. --!>
                <td>
                    <select class="form-control" id="task-status">
                        <option name="unassigned" value="unassigned">Unassigned</option>
                        <option name="not-started" value="not-started">Not Started</option>
                        <option name="in-progress" value="in-progress">In Progress</option>
                    </select>
                </td>
                <td>{{task.name}}</td>
                <td>{{task.assignee}}</td>
                <td>{{task.created_date}}</td>
                <td>{{task.priority}}</td>
                <td>{{task.severity}}</td>
            </tr>
            {% endfor %}
            {% else %}
            <h4>No tasks found for you, time to get to <a href="/create">work</a>
            {% endif %}
          </table>
      </div>
    </div>
  </div>

{% endblock %}
